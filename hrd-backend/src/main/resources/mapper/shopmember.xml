<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.skc.domain.shopmember.ShopMemberMapper">

  <select id="getShopMemberNextCustno" resultType="Integer">
	SELECT 
		IFNULL(MAX(custno), 0)+1 AS next_custno 
	FROM shop_member
  </select>
  
  <select id="getShopMemberList" resultType="ShopMember">
	  SELECT
	      custno,
	      custname,
	      phone,
	      address,
	      joindate,
	      CASE grade
	          WHEN 'A' THEN 'VIP'
	          WHEN 'B' THEN '일반'
	          WHEN 'C' THEN '직원'
	          ELSE '기타'
	      END AS grade_name,
	      city
	  FROM shop_member
	  ORDER BY custno ASC
  </select>
  

  
  
</mapper>